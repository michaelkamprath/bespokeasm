rules:
  - name: "Test Driven Development"
    applies_to: "global"
    description: |
      All new features and bug fixes should follow Test Driven Development (TDD) practices.
      - Write or update tests before implementing new code or fixing bugs.
      - Ensure all tests pass before considering a change complete.
      - Prefer small, incremental changes with corresponding tests.
      - If a feature is hard to test, discuss how to make it more testable.
      - The AI assistant should automatically run relevant test commands (e.g., `python3 -m unittest`)
        after code or test changes, unless explicitly instructed not to.
      - The AI assistant should also run shell commands for codebase searches, dependency checks,
        or other validation steps as needed, unless explicitly instructed not to.
  - name: "General Project Overview"
    applies_to: "global"
    description: |
      This project is named BespokeASM and is an assembler that allows the user to define
      the instruction set architecture (ISA) in a YAML or JSON file, sometimes referred to
      as the language configuration file.
  - name: "Virtual Environment Setup for Testing"
    applies_to: "global"
    description: |
      When running tests locally, use a fresh Python virtual environment:
      1. Create a new venv with the host system's latest Python 3:
         python3 -m venv .venv
      2. Activate the venv:
         source .venv/bin/activate
      3. Install dependencies:
         pip install -r requirements.txt
         pip install pytest
      4. Run the test suite:
         pytest -q
      The AI assistant should automatically perform these steps before running tests, unless explicitly instructed otherwise.
